# ğŸ”„ VPS Docker-Compose ä¿®å¤æµç¨‹å›¾

## é—®é¢˜è¯Šæ–­æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VPS éƒ¨ç½²é—®é¢˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é”™è¯¯ 1: Git Merge å†²çª                                      â”‚
â”‚  "Your local changes would be overwritten"                  â”‚
â”‚                                                              â”‚
â”‚  åŸå› : docker-compose.yml æœ¬åœ°ç‰ˆæœ¬ä¸ GitHub ç‰ˆæœ¬ä¸åŒ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é”™è¯¯ 2: YAML è§£æé”™è¯¯                                       â”‚
â”‚  "yaml.parser.ParserError"                                  â”‚
â”‚                                                              â”‚
â”‚  åŸå› : é•¿è¡Œè¢«é”™è¯¯åœ°æ–­æˆå¤šè¡Œï¼Œç ´åäº† YAML ç»“æ„               â”‚
â”‚  ç¤ºä¾‹: "postgresql://...p"                                  â”‚
â”‚        "ostgres:..."                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»“æœ: Flask å®¹å™¨æ— æ³•å¯åŠ¨                                    â”‚
â”‚        Nginx è¿”å› 502 Bad Gateway                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
                  ä¿®å¤å¼€å§‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
```

---

## ä¿®å¤æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 1 æ­¥: è¯Šæ–­é—®é¢˜                                            â”‚
â”‚  âœ… ç¡®è®¤äº† YAML è¯­æ³•é”™è¯¯                                      â”‚
â”‚  âœ… æ‰¾åˆ°äº†ç ´åçš„é•¿è¡Œ                                          â”‚
â”‚  âœ… ç†è§£äº†æ ¹æœ¬åŸå›                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 2 æ­¥: æœ¬åœ°ä¿®å¤                                            â”‚
â”‚  âœ… åˆ é™¤æŸåçš„æ–‡ä»¶                                            â”‚
â”‚  âœ… å®Œå…¨é‡å»º docker-compose.ymlï¼ˆæ­£ç¡®çš„ç‰ˆæœ¬ï¼‰                 â”‚
â”‚  âœ… éªŒè¯æ‰€æœ‰è¡Œçš„å®Œæ•´æ€§ï¼ˆä½¿ç”¨ od å‘½ä»¤ï¼‰                        â”‚
â”‚  âœ… ç¡®ä¿ YAML ç»“æ„å®Œæ•´                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 3 æ­¥: ä¸Šä¼ åˆ° GitHub                                       â”‚
â”‚  âœ… Commit 3379caa - ä¿®å¤çš„ docker-compose.yml               â”‚
â”‚  âœ… Commit 6dbab77 - ä¿®å¤æŒ‡å— + è‡ªåŠ¨è„šæœ¬                      â”‚
â”‚  âœ… Commit f5f2b22 - å¿«é€Ÿå‚è€ƒ                                â”‚
â”‚  âœ… Commit 5789e23 - éƒ¨ç½²çŠ¶æ€æŠ¥å‘Š                             â”‚
â”‚  âœ… Commit 401c327 - ä¿®å¤æ€»ç»“                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 4 æ­¥: VPS ä¸Šåº”ç”¨ä¿®å¤ï¼ˆå¾…æ‰§è¡Œï¼‰                            â”‚
â”‚  â³ git checkout -- docker-compose.yml                        â”‚
â”‚  â³ git pull origin main --force                              â”‚
â”‚  â³ docker-compose down                                       â”‚
â”‚  â³ docker-compose up -d --build                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 5 æ­¥: éªŒè¯ä¿®å¤æˆåŠŸ                                        â”‚
â”‚  âœ“ docker-compose ps æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ UP                         â”‚
â”‚  âœ“ Flask æ—¥å¿—æ˜¾ç¤º "Running on http://0.0.0.0:5000"           â”‚
â”‚  âœ“ API æµ‹è¯•è¿”å› 200 OK                                       â”‚
â”‚  âœ“ æ•°æ®åº“è¿æ¥æ­£å¸¸                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿®å¤å®Œæˆ âœ…                                                  â”‚
â”‚  ç³»ç»Ÿå®Œå…¨æ¢å¤ï¼Œæ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## VPS ä¿®å¤å‘½ä»¤æµ

```
â”Œâ”€ åœ¨ VPS ä¸Šæ‰§è¡Œçš„å‘½ä»¤åºåˆ— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚  $ gcloud compute ssh kyc-app --zone=asia-east1-a       â”‚
â”‚    â†“  [SSH è¿æ¥åˆ° VPS]                                   â”‚
â”‚                                                           â”‚
â”‚  $ sudo su -                                             â”‚
â”‚    â†“  [æˆä¸º root ç”¨æˆ·]                                   â”‚
â”‚                                                           â”‚
â”‚  $ cd /opt/kyc-app                                       â”‚
â”‚    â†“  [è¿›å…¥åº”ç”¨ç›®å½•]                                     â”‚
â”‚                                                           â”‚
â”‚  $ git checkout -- docker-compose.yml                   â”‚
â”‚    â†“  [æ”¾å¼ƒæœ¬åœ°æ›´æ”¹]                                     â”‚
â”‚                                                           â”‚
â”‚  $ git pull origin main --force                          â”‚
â”‚    â†“  [æ‹‰å–æœ€æ–°ç‰ˆæœ¬]  â† âœ… ç°åœ¨åº”è¯¥æˆåŠŸï¼ˆä¹‹å‰ä¼šå¤±è´¥ï¼‰    â”‚
â”‚                                                           â”‚
â”‚  $ docker-compose config > /dev/null                     â”‚
â”‚    â†“  [éªŒè¯ YAML]     â† âœ… ç°åœ¨åº”è¯¥é€šè¿‡ï¼ˆä¹‹å‰ä¼šé”™è¯¯ï¼‰    â”‚
â”‚                                                           â”‚
â”‚  $ docker-compose down                                   â”‚
â”‚    â†“  [åœæ­¢å®¹å™¨]                                         â”‚
â”‚                                                           â”‚
â”‚  $ docker-compose up -d --build                          â”‚
â”‚    â†“  [å¯åŠ¨æ–°å®¹å™¨]                                       â”‚
â”‚                                                           â”‚
â”‚  $ sleep 20 && docker-compose ps                         â”‚
â”‚    â†“  [æ£€æŸ¥çŠ¶æ€]      â† âœ… åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ UP           â”‚
â”‚                                                           â”‚
â”‚  $ docker-compose logs web | tail -20                    â”‚
â”‚    â†“  [æ£€æŸ¥æ—¥å¿—]      â† âœ… åº”è¯¥æ˜¾ç¤º Flask æ­£åœ¨è¿è¡Œ       â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ–‡ä»¶ä¿®å¤æ¼”å˜

```
ä¿®å¤å‰çŠ¶æ€:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
docker-compose.yml  âŒ æŸåçš„ YAML
                      Â· é•¿è¡Œè¢«æ–­è£‚
                      Â· ç¼©è¿›é”™è¯¯
                      Â· git pull ä¼šå¤±è´¥
                      Â· Docker ä¼šå‡ºé”™

        â†“ æœ¬åœ°ä¿®å¤ (Commit 3379caa)

ä¿®å¤åçŠ¶æ€:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
docker-compose.yml  âœ… æ­£ç¡®çš„ YAML
                      Â· å®Œæ•´çš„è¡Œ
                      Â· æ­£ç¡®çš„ç¼©è¿›
                      Â· æ‰€æœ‰è¡Œéƒ½æœ‰æ•ˆ
                      Â· å·²åœ¨ GitHub ä¸Šå¤‡ä»½

        â†“ åœ¨ VPS ä¸Šæ‹‰å–å¹¶åº”ç”¨

VPS æœ€ç»ˆçŠ¶æ€:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
docker-compose.yml  âœ… ä¸ GitHub åŒæ­¥
æ‰€æœ‰å®¹å™¨            âœ… æ­£å¸¸è¿è¡Œ
Flask åº”ç”¨          âœ… å“åº”è¯·æ±‚
PostgreSQL          âœ… è¿æ¥æ­£å¸¸
```

---

## ä¿®å¤æ–‡æ¡£ç»“æ„

```
FIX_SUMMARY.md (è¿™ä¸ªæ–‡æ¡£)
    â”‚
    â”œâ”€ VPS_QUICK_FIX.md
    â”‚  â””â”€ 5 åˆ†é’Ÿå¿«é€Ÿä¿®å¤æ­¥éª¤
    â”‚
    â”œâ”€ VPS_DOCKER_FIX_GUIDE.md
    â”‚  â”œâ”€ è¯¦ç»†æ­¥éª¤è¯´æ˜
    â”‚  â”œâ”€ æ•…éšœæ’é™¤
    â”‚  â””â”€ æŠ€æœ¯èƒŒæ™¯
    â”‚
    â”œâ”€ DEPLOYMENT_STATUS.md
    â”‚  â”œâ”€ å½“å‰æƒ…å†µ
    â”‚  â”œâ”€ é—®é¢˜åˆ†æ
    â”‚  â”œâ”€ å®æ–½çš„ä¿®å¤
    â”‚  â””â”€ åç»­æ­¥éª¤
    â”‚
    â”œâ”€ fix-vps-docker.sh
    â”‚  â””â”€ è‡ªåŠ¨åŒ–ä¿®å¤è„šæœ¬
    â”‚
    â””â”€ docker-compose.yml
       â””â”€ ä¿®å¤åçš„é…ç½®æ–‡ä»¶
```

---

## æ—¶é—´çº¿

```
æ—¶é—´        äº‹ä»¶                          Commit
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2025-12-02  VPS é‡åˆ° docker-compose é”™è¯¯  (ä¹‹å‰)
            â”‚
            â”œâ”€ è¯Šæ–­é—®é¢˜                    
            â”‚
            â”œâ”€ æœ¬åœ°ä¿®å¤ docker-compose.yml  3379caa
            â”‚
            â”œâ”€ åˆ›å»ºä¿®å¤æŒ‡å—å’Œè„šæœ¬           6dbab77
            â”‚
            â”œâ”€ æ·»åŠ å¿«é€Ÿå‚è€ƒ                 f5f2b22
            â”‚
            â”œâ”€ æ·»åŠ çŠ¶æ€æŠ¥å‘Š                 5789e23
            â”‚
            â””â”€ æ·»åŠ å®Œæˆæ€»ç»“                 401c327
                 â”‚
                 â–¼
            VPS ä¸Šåº”ç”¨ä¿®å¤ (å¾…æ‰§è¡Œ)
```

---

## é¢„æœŸä¿®å¤ç»“æœ

```
ä¿®å¤å‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VPS çŠ¶æ€                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  docker-compose.yml  âŒ ç ´å       â”‚
â”‚  git pull            âŒ å¤±è´¥       â”‚
â”‚  YAML éªŒè¯           âŒ é”™è¯¯       â”‚
â”‚  Flask å®¹å™¨          âŒ å¯åŠ¨å¤±è´¥   â”‚
â”‚  API ç«¯ç‚¹            âŒ 502 é”™è¯¯   â”‚
â”‚  PostgreSQL          âœ… æ­£å¸¸       â”‚
â”‚  Nginx (Docker)      âœ… è¿è¡Œ       â”‚
â”‚  SSL è¯ä¹¦            âœ… æœ‰æ•ˆ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â†“ åº”ç”¨ä¿®å¤æ­¥éª¤

ä¿®å¤å:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VPS çŠ¶æ€                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  docker-compose.yml  âœ… æ­£ç¡®       â”‚
â”‚  git pull            âœ… æˆåŠŸ       â”‚
â”‚  YAML éªŒè¯           âœ… é€šè¿‡       â”‚
â”‚  Flask å®¹å™¨          âœ… æ­£åœ¨è¿è¡Œ   â”‚
â”‚  API ç«¯ç‚¹            âœ… 200 OK     â”‚
â”‚  PostgreSQL          âœ… è¿æ¥æ­£å¸¸   â”‚
â”‚  Nginx (Docker)      âœ… åå‘ä»£ç†   â”‚
â”‚  SSL è¯ä¹¦            âœ… å®Œå…¨åŠŸèƒ½   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¿®å¤æ–¹æ¡ˆçš„é€‰æ‹©

```
                  â”Œâ”€â”€â”€ ä¿®å¤æ–¹æ¡ˆ
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         â”‚         â”‚
        â–¼         â–¼         â–¼
    æ–¹æ¡ˆ A     æ–¹æ¡ˆ B     æ–¹æ¡ˆ C
    å¿«é€Ÿ       è„šæœ¬       æ‰‹åŠ¨
    (3 è¡Œ)    (1 è¡Œ)     (4 æ­¥)
    
    â”‚         â”‚         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
æ¨èä¼˜å…ˆçº§: æ–¹æ¡ˆ A > æ–¹æ¡ˆ B > æ–¹æ¡ˆ C
```

---

## æˆåŠŸæ ‡å¿—

å½“çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºæ—¶ï¼Œè¯´æ˜ä¿®å¤æˆåŠŸï¼š

```
$ docker-compose ps
NAME            STATUS              PORTS
kyc_postgres    Up 20 seconds (healthy)
kyc_web         Up 19 seconds       0.0.0.0:5000->5000/tcp
kyc_nginx       Up 19 seconds       0.0.0.0:8080->80/tcp

$ docker-compose logs web | grep "Running on"
 * Running on http://0.0.0.0:5000

$ curl https://kyc.317073.xyz/api/health
{...}  â† è¿”å› 200 OKï¼Œä¸æ˜¯ 502 é”™è¯¯
```

---

**ä¿®å¤æµç¨‹å¯è§†åŒ–å®Œæˆï¼**

è¿™å±•ç¤ºäº†é—®é¢˜çš„è¯Šæ–­ã€ä¿®å¤çš„æ‰§è¡Œã€æ–‡ä»¶çš„å˜åŒ–å’Œé¢„æœŸçš„ç»“æœã€‚
